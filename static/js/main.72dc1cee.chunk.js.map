{"version":3,"sources":["redux/dialogs-reducer.js","hoc/withAuthRedirect.js","components/Profile/MyPosts/Post/Post.module.css","components/common/preloader/Preloader.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Users/User.module.css","components/Navbar/Navbar.module.css","api/api.js","redux/auth-reducer.js","redux/profile-reducer.js","utils/object-helpers.js","redux/users-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/Navbar/Navbar.js","components/Profile/MyPosts/Post/Post.js","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","assets/images/loading.gif","components/common/preloader/Preloader.js","assets/images/userAvatar.png","components/Profile/ProfileInfo/ProfileStatusWithHooks.js","components/Profile/ProfileInfo/ProfileInfo.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js","components/News/News.js","components/Music/Music.js","components/Settings/Settings.js","components/common/Paginator/Paginator.js","components/Users/User.js","components/Users/Users.js","redux/users-selectors.js","components/Users/UsersContainer.js","components/Header/Header.js","components/Header/HeaderContainer.js","components/Login/Login.js","App.js","reportWebVitals.js","index.js","utils/validators/validators.js","components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FormsControls.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css"],"names":["SEND_MESSAGE","initialState","dialogsData","id","name","messagesText","text","sendMessage","newMessage","type","dialogsReducer","state","action","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","instance","axios","withCredentials","baseURL","headers","profileAPI","userId","get","then","response","status","put","authAPI","email","password","rememberMe","post","delete","usersAPI","getUsers","currentPage","pageSize","data","getUnfollowFriend","resultCode","getFollowFriend","SET_USER_DATA","login","setUserData","payload","getAuthUserDataThunkCreator","dispatch","a","logoutThunkCreator","authReducer","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","postData","title","src","profile","setStatus","profileReducer","filter","p","postId","updateObjectInArray","items","itemId","objPropName","newObjProps","map","item","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","follow","unfollow","setUsers","setCurrentPage","pageNumber","toggleFetching","setFollowingInProgress","followUnfollowFlow","methodAPI","actionCreator","usersReducer","followed","totalCount","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","messagesPage","usersPage","form","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","Navbar","className","style","nav","activeClassName","active","Post","maxLength10","maxLengthCreator","MyPosts","memo","console","log","arrayPost","element","AddPostReduxForm","onSubmit","e","addPost","newPostText","reduxForm","handleSubmit","Field","component","Textarea","validate","required","placeholder","MyPostsContainer","Preloader","preloader","height","width","ProfileStatusWithHooks","useState","editMode","setEditMode","useEffect","onDoubleClick","autoFocus","value","onBlur","updateStatus","onChange","currentTarget","ProfileInfo","photos","large","userAvatar","fullName","Profile","ProfileContainer","match","params","authUserId","history","push","getUserProfileThunkCreator","getUserStatus","compose","withRouter","News","Music","Settings","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","page_number","selected_page","User","user","small","users_avatar","alt","disabled","some","onUnfollowClick","onFollowClick","key","Users","getUsersSelector","createSelector","u","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","getNewUsersThunkCreator","unfollowThunkCreator","followThunkCreator","getUsersThunkCreator","page","bind","Header","header","login_block","HeaderContainer","LoginReduxForm","Input","error","form_error","loginThunkCreator","message","messages","length","stopSubmit","_error","formData","DialogsContainer","lazy","App","initializeThunkCreator","path","render","fallback","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","basename","process","document","getElementById","maxLength","FormControl","input","meta","touched","children","hasError","form_control","error_text","restProps"],"mappings":"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","file":"static/js/main.72dc1cee.chunk.js","sourcesContent":["const SEND_MESSAGE = 'social_network/dialogs/SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogsData: [\r\n        {id: 1, name: 'Витя'},\r\n        {id: 2, name: 'Петя'},\r\n        {id: 3, name: 'Лена'},\r\n        {id: 4, name: 'Света'},\r\n        {id: 5, name: 'Катя'},\r\n    ],\r\n    messagesText: [\r\n        {id: 1, text: 'Привет!'},\r\n        {id: 2, text: 'Как дела?'},\r\n    ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SEND_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messagesText: [...state.messagesText, {id: 3, text: action.newMessage}],\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessage = (newMessage) => ({type: SEND_MESSAGE, newMessage})\r\n\r\nexport default dialogsReducer;","\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'} />;\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__q0iXF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2fvcO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"ProfileInfo_profile__2CFvv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users_avatar\":\"User_users_avatar___Liau\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1a4qH\",\"item\":\"Navbar_item__2mA-L\",\"active\":\"Navbar_active__23ehP\"};","import * as axios from 'axios';\r\n\r\n\r\nconst instance = axios.create({ \r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"82494529-f55a-4c64-b66b-e56c8e3608a1\"\r\n    }\r\n});\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n        .then(response => {\r\n            return response;\r\n        })\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {\r\n            status: status\r\n        });\r\n    },\r\n}\r\n\r\nexport const getAuthMe = () => {\r\n    return instance.get(`auth/me`);\r\n}\r\n\r\nexport const authAPI = {\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    },\r\n    \r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 5) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n        .then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    getUnfollowFriend(id) {\r\n        return instance.delete(`follow/${id}`)\r\n        .then(response => {\r\n            return response.data.resultCode;\r\n        })\r\n    },\r\n    getFollowFriend(id) {\r\n        return instance.post(`follow/${id}`, {})\r\n        .then(response => {\r\n            return response.data.resultCode;\r\n        })\r\n    }\r\n}","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI, getAuthMe } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = 'social_network/auth/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_USER_DATA :\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        \r\n        default:\r\n            return state;  \r\n    }\r\n}\r\n\r\n\r\nexport const setUserData = (userId, email, login, isAuth) => ({type: SET_USER_DATA, payload: {userId, email, login, isAuth}})\r\n\r\nexport const getAuthUserDataThunkCreator = () => async (dispatch) => {\r\n    let response = await getAuthMe(); \r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const loginThunkCreator = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserDataThunkCreator())\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n}\r\n\r\nexport const logoutThunkCreator = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;","import { profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'social_network/profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'social_network/profile/SET_USER_PROFILE';\r\nconst SET_STATUS = 'social_network/profile/SET_STATUS';\r\nconst DELETE_POST = 'social_network/profile/DELETE_POST';\r\n\r\nlet initialState = {\r\n    postData: [\r\n        {id: 1, title: 'Post 1', src: 'https://likevideogid.ru/wp-content/uploads/2019/11/likee_avatarka13-2.jpg'},\r\n        {id: 2, title: 'Post 2', src: 'https://likevideogid.ru/wp-content/uploads/2019/11/likee_avatarka13-2.jpg'},\r\n        {id: 3, title: 'Post 3', src: 'https://likevideogid.ru/wp-content/uploads/2019/11/likee_avatarka13-2.jpg'},\r\n        {id: 4, title: 'Post 4', src: 'https://likevideogid.ru/wp-content/uploads/2019/11/likee_avatarka13-2.jpg'},\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                postData: [...state.postData, {id: 5, title: action.text, src: 'https://likevideogid.ru/wp-content/uploads/2019/11/likee_avatarka13-2.jpg'}],\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                postData: state.postData.filter(p => p.id !== action.postId)\r\n            }\r\n        case SET_USER_PROFILE: \r\n            return {\r\n                ...state,\r\n                profile: action.profile,\r\n            }\r\n        case SET_STATUS: \r\n            return {\r\n                ...state,\r\n                status: action.status,\r\n            }\r\n        default:\r\n            return state;  \r\n    }\r\n}\r\n\r\nexport const addPost = (text) => ({type: ADD_POST, text})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\n\r\nexport const getUserProfileThunkCreator = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if(response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\n\r\n\r\nexport default profileReducer;","\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(item => {\r\n        if (item[objPropName] === itemId) {\r\n            return {...item, ...newObjProps}\r\n        }\r\n        return item;\r\n    });\r\n}\r\n","import { usersAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'social_network/users/FOLLOW';\r\nconst UNFOLLOW = 'social_network/users/UNFOLLOW';\r\nconst SET_USERS = 'social_network/users/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'social_network/users/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'social_network/users/SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'social_network/users/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'social_network/users/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 20,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case FOLLOW :\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n                // users: state.users.map(u => {\r\n                //     if (u.id === action.userId) {\r\n                //         return {...u, followed: true}\r\n                //     }\r\n                //     return u;\r\n                // }),\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state, \r\n                users: [...action.users]\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.pageNumber\r\n            }\r\n        case SET_TOTAL_USERS_COUNT: \r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalCount\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                  ? [...state.followingInProgress, action.id]\r\n                  : [state.followingInProgress.filter(id => id !== action.id)]\r\n            } \r\n        default:\r\n            return state;  \r\n    }\r\n}\r\n\r\nexport const follow = (id) => ({type: FOLLOW, userId: id })\r\nexport const unfollow = (id) => ({type: UNFOLLOW, userId: id})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (pageNumber) => ({type: SET_CURRENT_PAGE, pageNumber})\r\nexport const setTotalUsersCount = (totalCount) => ({type: SET_TOTAL_USERS_COUNT, totalCount})\r\nexport const toggleFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const setFollowingInProgress = (isFetching, id) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, id})\r\n\r\nexport const getUsersThunkCreator = (page, pageSize) => { \r\n    return async (dispatch) => {\r\n        dispatch(toggleFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nexport const getNewUsersThunkCreator = (page, pageSize) => { \r\n    return async (dispatch) => {\r\n        dispatch(toggleFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleFetching(false));\r\n        dispatch(setUsers(data.items));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, id, methodAPI, actionCreator) => {\r\n    dispatch(setFollowingInProgress(true, id));\r\n    let code = await methodAPI(id);\r\n    if (code === 0) {\r\n        dispatch(actionCreator(id));\r\n    }\r\n    dispatch(setFollowingInProgress(false, id));\r\n}\r\n\r\nexport const unfollowThunkCreator = (id) => { \r\n    return async (dispatch) => {\r\n        let methodAPI = usersAPI.getUnfollowFriend.bind(usersAPI);\r\n        followUnfollowFlow(dispatch, id, methodAPI, unfollow);\r\n    }\r\n}\r\n\r\nexport const followThunkCreator = (id) => { \r\n    return async (dispatch) => {\r\n        let methodAPI = usersAPI.getFollowFriend.bind(usersAPI);\r\n        followUnfollowFlow(dispatch, id, methodAPI, follow);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","\r\nimport { getAuthUserDataThunkCreator } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        \r\n        default:\r\n            return state;  \r\n    }\r\n}\r\n\r\n\r\nexport const initializedSuccessActionCreator = () => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initializeThunkCreator = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserDataThunkCreator());\r\n    promise.then(() => {\r\n        dispatch(initializedSuccessActionCreator());\r\n    });\r\n}\r\n\r\n\r\nexport default appReducer;","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport style from './Navbar.module.css';\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={style.nav}>\r\n      <ul>\r\n        <li><NavLink className={style.item} activeClassName={style.active} to=\"/profile\">Profile</NavLink></li>\r\n        <li><NavLink className={style.item} activeClassName={style.active} to=\"/dialogs\">Messages</NavLink></li>\r\n        <li><NavLink className={style.item} activeClassName={style.active} to=\"/news\">News</NavLink></li>\r\n        <li><NavLink className={style.item} activeClassName={style.active} to=\"/music\">Music</NavLink></li>\r\n        <li><NavLink className={style.item} activeClassName={style.active} to=\"/users\">Users</NavLink></li>\r\n        <li><NavLink className={style.item} activeClassName={style.active} to=\"/settings\">Settings</NavLink></li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport style from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={style.item}>\r\n            <img src={props.src}></img>\r\n            {props.title}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport style from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport { maxLengthCreator, required } from '../../../utils/validators/validators';\r\nimport { Textarea } from '../../common/FormsControls/FormsControls';\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst MyPosts = React.memo(props => {\r\n\r\n    console.log('render');\r\n    let arrayPost = \r\n      props.profilePage.postData.map(element => <Post key={element.id} title={element.title} src={element.src} />);\r\n    \r\n    let onClickAddPost = (e) => {\r\n      props.addPost(e.newPostText);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n          <h3>My posts</h3>\r\n          <AddPostReduxForm onSubmit={onClickAddPost}/>\r\n          {arrayPost}\r\n        </div>\r\n    );\r\n})\r\n\r\nconst AddPostForm = (props) => {\r\n  return(\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field component={Textarea} name='newPostText' \r\n              validate={[ required, maxLength10 ]} \r\n              placeholder='Post message'/>\r\n      </div>\r\n      <div>\r\n        <button>Add post</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst AddPostReduxForm = reduxForm({form:'newPostForm'})(AddPostForm);\r\n\r\nexport default MyPosts;","\r\nimport { connect } from 'react-redux';\r\nimport { addPost } from '../../../redux/profile-reducer';\r\nimport MyPosts from './MyPosts';\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profilePage: state.profilePage\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, {addPost}) (MyPosts);\r\n\r\nexport default MyPostsContainer;","export default __webpack_public_path__ + \"static/media/loading.21e3df13.gif\";","\r\nimport React from 'react';\r\nimport preloader from '../../../assets/images/loading.gif';\r\nimport style from './Preloader.module.css';\r\n\r\n\r\nconst Preloader = () => {\r\n\r\n  return <div className={style.preloader}>\r\n    <img src={preloader} height='65' width='65'/>\r\n  </div>\r\n\r\n}\r\n\r\nexport default Preloader;\r\n","export default __webpack_public_path__ + \"static/media/userAvatar.a70779f1.png\";","import React, { useEffect, useState } from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [\r\n        // props.status\r\n    ]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n    const onStatusChangeHandler = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div>\r\n                    <span onDoubleClick={activateEditMode}>{props.status || 'no status'}</span>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <input autoFocus={true} value={status} onBlur={deactivateEditMode} onChange={onStatusChangeHandler} />\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport Preloader from '../../common/preloader/Preloader';\r\nimport style from './ProfileInfo.module.css';\r\nimport userAvatar from '../../../assets/images/userAvatar.png';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\n\r\nconst ProfileInfo = (props) => {\r\n    if (!props.profile) {\r\n      return <Preloader />\r\n    }\r\n\r\n    return (\r\n      \r\n      <div className={style.profile}>\r\n        <img src={props.profile.photos.large != null ? props.profile.photos.large : userAvatar} height='200' width='200'></img>\r\n        <span>{props.profile.fullName}</span>\r\n        <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\r\n      </div>\r\n\r\n    );\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport style from './Profile.module.css';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n      <div>\r\n        <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n        <MyPostsContainer />\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { getUserProfileThunkCreator, getUserStatus, updateStatus } from '../../redux/profile-reducer';\r\nimport Profile from './Profile';\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n  \r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if(!userId) {\r\n      userId = this.props.authUserId;\r\n      if(!userId) {\r\n        this.props.history.push('/login');\r\n      }\r\n    }\r\n    this.props.getUserProfileThunkCreator(userId);\r\n    this.props.getUserStatus(userId);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <Profile {...this.props} \r\n                  profile={this.props.profile} \r\n                  status={this.props.status} \r\n                  updateStatus={this.props.updateStatus}/>\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {getUserProfileThunkCreator, getUserStatus, updateStatus }),\r\n  withRouter,\r\n  withAuthRedirect\r\n)(ProfileContainer);\r\n\r\n","import React from 'react';\r\nimport style from './News.module.css';\r\n\r\n\r\n\r\nconst News = () => {\r\n  return (\r\n    <div>\r\n      News\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default News;\r\n","import React from 'react';\r\nimport style from './Music.module.css';\r\n\r\n\r\n\r\nconst Music = () => {\r\n  return (\r\n    <div>\r\n      Music\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Music;\r\n","import React from 'react';\r\nimport style from './Settings.module.css';\r\n\r\n\r\n\r\nconst Settings = () => {\r\n  return (\r\n    <div>\r\n      Settings\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Settings;\r\n","\r\nimport React, { useState } from 'react';\r\nimport style from './Paginator.module.css';\r\n\r\n\r\nconst Paginator = ({totalUsersCount, pageSize, currentPage, onPageChanged, portionSize = 20}) => {\r\n\r\n  let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n\r\n  let pages = [];\r\n  for (let i=1; i<=pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(Math.ceil(currentPage/portionSize));\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return <div className={style.paginator}>\r\n      { portionNumber > 1 && \r\n      <button onClick={() => {setPortionNumber(portionNumber - 1)}}>PREV</button> }\r\n\r\n      {pages\r\n        .filter(p => p>=leftPortionPageNumber && p<=rightPortionPageNumber)\r\n        .map((p) => {\r\n        return <span className={`${style.page_number} + ' ' ${currentPage === p ? style.selected_page : ''}`}\r\n        key={p} \r\n        onClick={(e) => {onPageChanged(p);}}>{p}</span>\r\n      })}\r\n\r\n      { portionCount > portionNumber &&\r\n      <button onClick={() => {setPortionNumber(portionNumber + 1)}}>NEXT</button> }\r\n    </div>\r\n}\r\n\r\nexport default Paginator;\r\n","\r\nimport React from 'react';\r\nimport style from './User.module.css';\r\nimport userAvatar from '../../assets/images/userAvatar.png';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nconst User = ({user, ...props}) => {\r\n\r\n   return <div key={props.key}>\r\n        <span>\r\n          <NavLink to={'/profile/' + user.id}>\r\n            <img src={user.photos.small != null ? user.photos.small : userAvatar} className={style.users_avatar} alt='avatar'></img>\r\n          </NavLink>\r\n          <div>\r\n            {user.followed \r\n              ? <button disabled={props.followingInProgress.some(id => id === user.id)} onClick={() => {props.onUnfollowClick(user.id)}}>Отписаться</button> \r\n              : <button disabled={props.followingInProgress.some(id => id === user.id)} onClick={() => {props.onFollowClick(user.id)}}>Подписаться</button>}\r\n          </div>\r\n        </span>\r\n        <span>\r\n          <span>\r\n            <div>{user.name}</div>\r\n            <div>{user.status}</div>\r\n          </span>\r\n          <span>\r\n            <div>{\"user.location.country\"}</div>\r\n            <div>{\"user.location.city\"}</div>\r\n          </span>\r\n        </span>\r\n      </div>\r\n\r\n}\r\n\r\nexport default User;\r\n","\r\nimport React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\n\r\nconst Users = (props) => {\r\n\r\n   return <div>\r\n    <Paginator currentPage={props.currentPage} \r\n              onPageChanged={props.onPageChanged} \r\n              totalUsersCount={props.totalUsersCount} \r\n              pageSize={props.pageSize} />\r\n    {\r\n      props.users.map(element => <User user={element}\r\n                                      followingInProgress={props.followingInProgress}\r\n                                      onUnfollowClick={props.onUnfollowClick}\r\n                                      onFollowClick={props.onFollowClick}\r\n                                      key={element.id}\r\n                                  />)\r\n    }\r\n  </div>\r\n\r\n}\r\n\r\nexport default Users;\r\n","import { createSelector } from \"reselect\";\r\n\r\nconst getUsers = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsersSelector = createSelector(getUsers, (users) => {\r\n    return users.filter(u => true);\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n","\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getUsersThunkCreator, followThunkCreator, unfollowThunkCreator, getNewUsersThunkCreator } from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/preloader/Preloader';\r\nimport { getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress, getUsersSelector } from '../../redux/users-selectors';\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize);\r\n    // this.props.toggleFetching(true);\r\n    // getUsers(this.props.currentPage, this.props.pageSize).then(data => {\r\n    //   this.props.toggleFetching(false);\r\n    //   this.props.setUsers(data.items);\r\n    //   this.props.setTotalUsersCount(data.totalCount);\r\n    // });\r\n  }\r\n  \r\n  onPageChanged = (p) => {\r\n    this.props.getNewUsersThunkCreator(p, this.props.pageSize);\r\n    // this.props.setCurrentPage(p);\r\n    // this.props.toggleFetching(true);\r\n    // getUsers(p, this.props.pageSize).then(data => {\r\n    //     this.props.toggleFetching(false);\r\n    //     this.props.setUsers(data.items);\r\n    // });\r\n  }\r\n\r\n  onUnfollowClick = (id) => {\r\n    this.props.unfollowThunkCreator(id);\r\n    // this.props.setFollowingInProgress(true, id);\r\n    // getUnfollowFriend(id).then(code => {\r\n    //   if (code === 0) {\r\n    //     this.props.unfollow(id);\r\n    //   }\r\n    //   this.props.setFollowingInProgress(false, id);\r\n    // });\r\n  }\r\n\r\n  onFollowClick = (id) => {\r\n    this.props.followThunkCreator(id);\r\n    // this.props.setFollowingInProgress(true, id);\r\n    // getFollowFriend(id).then(code => {\r\n    //   if (code === 0) {\r\n    //     this.props.follow(id);\r\n    //   }\r\n    //   this.props.setFollowingInProgress(false, id);\r\n    // });\r\n  }\r\n\r\n  render() {\r\n    return <>\r\n      {this.props.isFetching ? <Preloader /> : \r\n      <Users totalUsersCount={this.props.totalUsersCount} \r\n      pageSize={this.props.pageSize} \r\n      currentPage={this.props.currentPage} \r\n      onPageChanged={this.onPageChanged} \r\n      users={this.props.users} \r\n      onUnfollowClick={this.onUnfollowClick}\r\n      onFollowClick={this.onFollowClick}\r\n      followingInProgress={this.props.followingInProgress}/>}\r\n    </>\r\n  }\r\n}\r\n\r\n// let mapStateToProps = (state) => {\r\n//   return {\r\n//     users: state.usersPage.users,\r\n//     pageSize: state.usersPage.pageSize,\r\n//     totalUsersCount: state.usersPage.totalUsersCount,\r\n//     currentPage: state.usersPage.currentPage,\r\n//     isFetching: state.usersPage.isFetching,\r\n//     followingInProgress: state.usersPage.followingInProgress,\r\n//   }\r\n// }\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    // users: getUsers(state),\r\n    users: getUsersSelector(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  }\r\n}\r\n\r\nexport default connect (mapStateToProps, { \r\n  getUsersThunkCreator,\r\n  followThunkCreator,\r\n  unfollowThunkCreator,\r\n  getNewUsersThunkCreator\r\n  }) (UsersContainer);\r\n\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport style from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n      <header className={style.header}>\r\n        <img src='https://www.flaticon.com/premium-icon/icons/svg/3387/3387987.svg' />\r\n\r\n        <div className={style.login_block}>\r\n          { props.isAuth ? <div><span>{props.login}</span> <button onClick={props.logoutThunkCreator}>Logout</button></div> \r\n            : <NavLink to='/login'>Login</NavLink>\r\n          }\r\n        </div>\r\n      </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logoutThunkCreator } from '../../redux/auth-reducer';\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n  // componentDidMount() {\r\n  //   this.props.getAuthUserDataThunkCreator();\r\n  // }\r\n\r\n  render() {\r\n    return (\r\n      <Header {...this.props} />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, {logoutThunkCreator}) (HeaderContainer);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { loginThunkCreator, logoutThunkCreator } from '../../redux/auth-reducer';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { Input } from '../common/FormsControls/FormsControls';\r\nimport style from '../common/FormsControls/FormsControls.module.css';\r\n\r\nconst LoginForm = (props) => {\r\n    return(\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div><Field placeholder={'Email'} name={'email'} component={Input} validate={[required]}/></div>\r\n            <div><Field placeholder={'Password'} name={'password'} component={Input} validate={[required]} type={'password'}/></div>\r\n            <div><Field type={'checkbox'} name={'rememberMe'} component={'input'}/> remember me</div>\r\n            { props.error && <div className={style.form_error}>{props.error}</div>}\r\n            <div><button>Login</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmitLoginForm = (formData) => {\r\n        props.loginThunkCreator(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if(props.isAuth) {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmitLoginForm} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {loginThunkCreator, logoutThunkCreator})(Login);","import React, { Suspense } from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport ProfileContainer from './components/Profile/ProfileContainer';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport { Route, withRouter } from 'react-router-dom';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Login from './components/Login/Login';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { initializeThunkCreator } from './redux/app-reducer';\r\nimport Preloader from './components/common/preloader/Preloader';\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.initializeThunkCreator();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />\r\n    } else {\r\n      return (\r\n          <div className='app-wrapper'>\r\n            <HeaderContainer />\r\n            <Navbar />\r\n            <div className='app-content'>\r\n              <Route path='/login' render={() => <Login />} />\r\n              <Route path='/profile/:userId?' render={() => <ProfileContainer />} />\r\n              <Route path='/dialogs' render={() => {\r\n                                              return <Suspense fallback={<div>Loading</div>}>\r\n                                                <DialogsContainer/>\r\n                                              </Suspense>\r\n                                            }}/>\r\n              <Route path='/news' render={() => <News />}/>\r\n              <Route path='/music' render={() => <Music />}/>\r\n              <Route path='/users' render={() => <UsersContainer />}/>\r\n              <Route path='/settings' render={() => <Settings />}/>\r\n            </div>\r\n          </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized\r\n});\r\n\r\nexport default compose (\r\n  withRouter,\r\n  connect(mapStateToProps, {initializeThunkCreator})\r\n  )(App);\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","\r\nimport store from './redux/redux-store';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { BrowserRouter} from 'react-router-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n          <Provider store={store}>\r\n              <App />\r\n          </Provider>\r\n      </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n\r\nreportWebVitals();\r\n","export const required = (value) => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form_control\":\"FormsControls_form_control__2Vq4W\",\"error\":\"FormsControls_error__EV4yH\",\"error_text\":\"FormsControls_error_text__g3CVP\",\"form_error\":\"FormsControls_form_error__bklOy\"};","import React from 'react';\r\nimport style from './FormsControls.module.css';\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children, ...props}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={style.form_control + ' ' + (hasError ? style.error : '')}>\r\n            {children}\r\n            {hasError && <div className={style.error_text}>{error}</div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3nP2D\",\"page_number\":\"Paginator_page_number__3qWiU\",\"selected_page\":\"Paginator_selected_page__3mlQr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1P1cH\",\"login_block\":\"Header_login_block__25hYz\"};"],"sourceRoot":""}